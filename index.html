
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>с тебя чипсеки</title>
<style>
  body, html {
    margin: 0; padding: 0; overflow: hidden; background: black; height: 100vh; width: 100vw; 
    font-family: 'Arial', sans-serif;
  }
  #canvas {
    display: block; 
    position: fixed; 
    top: 0; left: 0;
  }
  #footerText {
    position: fixed;
    bottom: 5px;
    right: 10px;
    color: #aaa;
    font-size: 10px;
    font-family: monospace;
    user-select: none;
    pointer-events: none;
  }
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<div id="footerText">Иисус тут не поможет</div>

<script>
(() => {
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  let W, H;
  
  function resize() {
    W = window.innerWidth;
    H = window.innerHeight;
    canvas.width = W;
    canvas.height = H;
  }
  resize();
  window.addEventListener('resize', resize);

  // ------- ПОЧТИ СЕРДЕЧКИ из точек -------
  class HeartParticle {
    constructor() {
      this.size = 4 + Math.random() * 3;
      this.x = Math.random() * W;
      this.y = Math.random() * H;
      this.baseX = this.x;
      this.baseY = this.y;
      this.angle = Math.random() * Math.PI * 2;
      this.radius = 2 + Math.random() * 3;
      this.speed = 0.002 + Math.random() * 0.002;
      this.color = rgba(255, 105, 180, ${0.4 + Math.random() * 0.3}); // нежно-розовый
      this.t = Math.random() * 1000;
    }
    update() {
      this.t += this.speed * 50;
      this.x = this.baseX + Math.sin(this.t) * this.radius;
      this.y = this.baseY + Math.cos(this.t) * this.radius;
    }
    draw() {
      ctx.save();
      ctx.translate(this.x, this.y);
      ctx.fillStyle = this.color;
      ctx.beginPath();
      // Нарисуем форму сердечка из двух кругов и треугольника
      let size = this.size;
      ctx.moveTo(0, 0);
      ctx.arc(-size / 4, 0, size / 4, 0, Math.PI * 2);
      ctx.arc(size / 4, 0, size / 4, 0, Math.PI * 2);
      ctx.lineTo(0, size);
      ctx.closePath();
      ctx.fill();
      ctx.restore();
    }
  }

  // ------- Частицы текста -------
  class TextParticle {
    constructor(x, y) {
      this.baseX = x;
      this.baseY = y;
      this.x = x + (Math.random() - 0.5) * 3;
      this.y = y + (Math.random() - 0.5) * 3;
      this.size = 2 + Math.random() * 2;
      this.color = 'rgba(0,255,255,0.8)';
      this.speedX = (Math.random() - 0.5) * 0.2;
      this.speedY = (Math.random() - 0.5) * 0.2;
    }
    update() {
      this.x += this.speedX;
      this.y += this.speedY;
      // Возвращаем к базовой позиции медленно
      this.speedX += (this.baseX - this.x) * 0.02;
      this.speedY += (this.baseY - this.y) * 0.02;
    }
    draw() {
      ctx.beginPath();
      ctx.fillStyle = this.color;
      ctx.shadowColor = '#0ff';
      ctx.shadowBlur = 8;
      ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
      ctx.fill();
      ctx.shadowBlur = 0;
    }
  }

  // ------- Создаем текст "с тебя чипсеки" -------
  const text = 'с тебя чипсеки';
  const fontSize = 100;
  const offscreenCanvas = document.createElement('canvas');
  const offCtx = offscreenCanvas.getContext('2d');
  offscreenCanvas.width = 800;
  offscreenCanvas.height = 200;
  offCtx.font = ${fontSize}px Arial;
  offCtx.fillStyle = 'white';
  offCtx.textBaseline = 'middle';
  offCtx.fillText(text, 10, offscreenCanvas.height / 2);

  const imageData = offCtx.getImageData(0, 0, offscreenCanvas.width, offscreenCanvas.height);
  const textParticles = [];

  // Собираем координаты белых пикселей текста
  for (let y = 0; y < offscreenCanvas.height; y += 4) {
    for (let x = 0; x < offscreenCanvas.width; x += 4) {
      const index = (y * offscreenCanvas.width + x) * 4;
      const alpha = imageData.data[index + 3];
      if (alpha > 128) {
        // Центрируем текст на экране
        let posX = x + (W / 2 - offscreenCanvas.width / 2);
        let posY = y + (H / 2 - offscreenCanvas.height / 2);
        textParticles.

push(new TextParticle(posX, posY));
      }
    }
  }

  // ------- Создаем сердечки -------
  const hearts = [];
  for (let i = 0; i < 80; i++) {
    hearts.push(new HeartParticle());
  }

  // ------- Анимация -------
  function animate() {
    ctx.clearRect(0, 0, W, H);

    // Рисуем сердечки
    hearts.forEach(h => {
      h.update();
      h.draw();
    });

    // Рисуем текстовые частицы
    textParticles.forEach(p => {
      p.update();
      p.draw();
    });

    requestAnimationFrame(animate);
  }

  animate();
})();
</script>

</body>
</html>
