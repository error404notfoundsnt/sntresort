<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>zahyarulopatoi</title>
  <style>
    html, body {
      margin: 0; padding: 0; overflow: hidden;
      height: 100vh; width: 100vw;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #1a001a, #330033, #4d004d);
      background-size: 400% 400%;
      animation: bgAnimation 15s ease infinite;
    }
    @keyframes bgAnimation {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }
    #bottomText {
      position: fixed;
      right: 10px;
      bottom: 5px;
      font-size: 12px;
      color: rgba(255,255,255,0.5);
      user-select: none;
      z-index: 10;
      font-weight: 600;
      font-family: 'Arial Black', Arial, sans-serif;
      text-shadow: 0 0 3px #fff;
    }
    canvas {
      display: block;
      position: absolute;
      top: 0; left: 0;
      z-index: 1;
    }
    #textCanvas {
      z-index: 5;
    }
  </style>
</head>
<body>
  <canvas id="background"></canvas>
  <canvas id="textCanvas"></canvas>
  <div id="bottomText">Иисус тут не поможет</div>

  <script>
    const bgCanvas = document.getElementById('background');
    const bgCtx = bgCanvas.getContext('2d');
    const textCanvas = document.getElementById('textCanvas');
    const textCtx = textCanvas.getContext('2d');

    let W, H;
    function resize() {
      W = window.innerWidth;
      H = window.innerHeight;
      bgCanvas.width = W;
      bgCanvas.height = H;
      textCanvas.width = W;
      textCanvas.height = H;
    }
    window.addEventListener('resize', resize);
    resize();

    // ----------------- Heart Particle Class -----------------
    class HeartParticle {
      constructor() {
        this.reset();
      }
      reset() {
        this.x = Math.random() * W;
        this.y = Math.random() * H;
        this.size = 6 + Math.random() * 6;
        this.speedX = (Math.random() - 0.5) * 0.2;
        this.speedY = (Math.random() - 0.5) * 0.2;
        this.angle = Math.random() * Math.PI * 2;
        this.angleSpeed = (Math.random() - 0.5) * 0.01;
        this.alpha = 0.15 + Math.random() * 0.25;
      }
      draw(ctx) {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.angle);

        // Стеклянный эффект с градиентом
        let grad = ctx.createRadialGradient(0, 0, this.size * 0.1, 0, 0, this.size);
        grad.addColorStop(0, `rgba(255, 182, 193, ${this.alpha})`); // нежный розовый
        grad.addColorStop(0.5, `rgba(255, 105, 180, ${this.alpha * 0.7})`);
        grad.addColorStop(1, `rgba(255, 20, 147, 0)`);

        ctx.fillStyle = grad;

        ctx.beginPath();
        ctx.moveTo(0, -this.size/2);
        ctx.bezierCurveTo(this.size/2, -this.size, this.size, 0, 0, this.size);
        ctx.bezierCurveTo(-this.size, 0, -this.size/2, -this.size, 0, -this.size/2);
        ctx.fill();

        // Светлый блик для "стеклянности"
        ctx.strokeStyle = `rgba(255, 255, 255, ${this.alpha * 0.4})`;
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(0, -this.size/2);
        ctx.bezierCurveTo(this.size/2, -this.size * 0.8, this.size * 0.8, -this.size/3, 0, this.size/3);
        ctx.stroke();

        ctx.restore();
      }
      update() {
        this.x += this.speedX;
        this.y += this.speedY;
        this.angle += this.angleSpeed;

        if(this.x < -20) this.x = W + 20;
        if(this.x > W + 20) this.x = -20;
        if(this.y < -20) this.y = H + 20;
        if(this.y > H + 20) this.y = -20;
      }
    }

    // ----------------- Создаём много сердечек -----------------
    const hearts = [];
    for(let i = 0; i < 120; i++) {
      hearts.push(new HeartParticle());
    }

    // ----------------- Текстовые частицы -----------------
    const text = 'с тебя чипсеки';
    const fontSize = 120;
    const textParticleSize = 2;
    const textParticles = [];

    const offscreenCanvas = document.createElement('canvas');
    const offscreenCtx = offscreenCanvas.getContext('2d');

    function


eTextParticles() {
      offscreenCanvas.width = W;
      offscreenCanvas.height = H;

      offscreenCtx.clearRect(0, 0, W, H);
      offscreenCtx.font = `${fontSize}px Arial Black, Arial, sans-serif`;
      offscreenCtx.fillStyle = 'white';
      offscreenCtx.textBaseline = 'middle';
      offscreenCtx.textAlign = 'center';
      offscreenCtx.fillText(text, W/2, H/2);

      const imageData = offscreenCtx.getImageData(0, 0, W, H);
      textParticles.length = 0;
      for(let y = 0; y < H; y += 6) {
        for(let x = 0; x < W; x += 6) {
          const index = (y * W + x) * 4;
          if(imageData.data[index + 3] > 128) {
            textParticles.push({
              x,
              y,
              baseX: x,
              baseY: y,
              size: textParticleSize,
              alpha: 0.7 + Math.random() * 0.3,
              offset: Math.random() * 1000
            });
          }
        }
      }
    }
    createTextParticles();

    // ----------------- Анимация -----------------
    function animate(time = 0) {
      bgCtx.clearRect(0, 0, W, H);
      textCtx.clearRect(0, 0, W, H);

      // Фон (чуть блестит, но тёмный - сделал в CSS, здесь просто очищаем)

      // Рисуем сердечки на фоне
      hearts.forEach(h => {
        h.update();
        h.draw(bgCtx);
      });

      // Рисуем текстовые частицы (светлячки)
      textParticles.forEach(p => {
        // Плавное дрожание и лёгкое колебание по волнам
        const flicker = 0.6 + 0.4 * Math.sin(time * 0.005 + p.offset);
        const waveX = 2 * Math.sin(time * 0.002 + p.baseY * 0.02);
        const waveY = 2 * Math.cos(time * 0.002 + p.baseX * 0.02);

        textCtx.beginPath();
        const gradient = textCtx.createRadialGradient(p.x + waveX, p.y + waveY, 0, p.x + waveX, p.y + waveY, 6);
        gradient.addColorStop(0, `rgba(255,255,255,${flicker})`);
        gradient.addColorStop(1, 'rgba(255,255,255,0)');
        textCtx.fillStyle = gradient;
        textCtx.arc(p.x + waveX, p.y + waveY, p.size, 0, Math.PI * 2);
        textCtx.fill();
      });

      requestAnimationFrame(animate);
    }

    animate();

  </script>
</body>
</html>
